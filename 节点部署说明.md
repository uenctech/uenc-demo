# 节点部署说明

## 引言
本文档指导部署UENC的包括主网和测试网的节点程序，直接采用已编译好的二进制程序，程序可正常运行在centos 7 操作系统中。

若采用自行编译方式，请参考[uenc_src](https://github.com/uenctech/uenc_src)项目中的README.md。

目前UENC项目已建立如下公网节点可以使用，如果非必要，可以不用自己部署。

* 主网地址（端口11187）
47.104.254.152

114.55.102.14

47.106.247.169

47.108.65.199

* 测试网地址（端口11188）
120.79.216.93

47.108.52.94

注意：主网和测试网数据完全隔离，不能相互通用。


## 一、 节点硬件配置要求

推荐配置：linux系统 四核八G  500G以上硬盘

 

## 二、 程序配置及启动

1. 先解压uenc程序包，在uenc文件夹内

	* uenc_1.0_primarynet.zip
	主网程序
	* uenc_1.0_testnet.zip
	测试网程序
	
	```
	# unzip uenc_1.0_xxx.zip
	```

2. 赋予权限并运行uenc程序 

	```
	# chmod 755 uenc_1.0_xxx
	# ./uenc_1.0_xxx
	```

3. 程序会在本地自动生成配置文件 config.json， 然后ctrl + c退出程序

4. 修改config.json文件

   1). 对server的IP字段进行修改，增加所连接的公网节点ip地址；对PORT字段进行修改，填写公网节点的端口。

      ![img](节点部署说明.assets/wps2.jpg) 

      改为下图所示：

      ![img](节点部署说明.assets/wps3.jpg) 
      
      这里根据需要填写主网或测试网的IP地址和端口，如下：
      * 主网地址（端口11187）
      47.104.254.152

      114.55.102.14

      47.106.247.169

      47.108.65.199

      * 测试网地址（端口11188）
      120.79.216.93

      47.108.52.94
      
	 2). 如果要部署的是公网节点，将is_public_node字段改为true；如果部署的是内网节点，则不需要改动。

      ​	![](节点部署说明.assets/wps1.jpg) 

   3). 修改本机IP地址

      * 如果是部署的是公网节点，需要将local_ip字段修改为本机的公网固定ip地址。

      * 如果部署的是内网节点，则不需要改动，程序会自动获取本地ip地址。

         ![img](节点部署说明.assets/wps4.jpg) 
         
      * 如果是连接主网，则local_port修改为11187；如果连接测试网，则local_port修改为11188。

5. 保存并退出config.json文件，用以下命令启动程序：

	```
   # ./uenc_1.0_xxx -fee 1000
  ```

   说明：初次启动需要设置燃料费，设置为1000即可，否则该节点无法发起交易，1000 / 1000000 = 0.001uenc 代表燃料费为0.001个uenc，设置成功屏幕会输出 set fee success!

6. 以后直接启动程序即可连入测试网络进行接口对接测试。

	```
   # ./uenc_1.0_xxx 
	```




